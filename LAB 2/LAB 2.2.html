<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8"/>
        <meta name="description" content="Data Visualisation"/>
        <meta name="keywords" content="HTML, CSS, D3"/>
        <meta name="author" content="Jerusha Dass"/>

        <title>Task 2.2 D3 Drawing w/ Data - Bar Chart</title>

        <script src="https://d3js.org/d3.v7.min.js"></script>
    </head>

    <body>
        <h1> Drawing w/ Data - Bar Chart</h1>

        <script>

            var w =500;
            var h =200;
            var barPadding=3;

            var dataset = [14, 5, 26, 23, 9];

            var svg = d3.select("body")
                        .append("svg")
                        .attr("width",w)
                        .attr("height",h)
                        
            svg.selectAll("rect")
            .data(dataset)
            .enter()
            .append("rect")
            .attr("x",function(d, i)
            {
              return i * (w / dataset.length);
            })
            .attr("y",function(d)
            {
              return h - (d*4);
            })
            .attr("width",function(d)//i id indexing for array
            {
              return  (w / dataset.length-barPadding);
            })
            .attr("height",function(d)
            {
                return d*4;
            })
            .attr("fill","pink");

            svg.selectAll("text")
            .data(dataset)
            .enter()
            .append("text")
            .text(function(d)
            {
                return d;
            })
            .attr("fill","black")
            .attr("x",function(d, i)
            {
                return i * (w/dataset.length) + (w/dataset.length - barPadding)/2;// To Center the value in the middle of the bar chart
            })
            .attr("y",function(d)
        {
            return h - (d*4)-5;// Position value above bars
        })
        .attr("text-anchor","middle");// Align the text in the middle

        </script>

        <br>
        <br>

<footer style="color:grey">COS30045 Data Visualisation<br> Jerusha Dass</footer>
</body>
</html>
